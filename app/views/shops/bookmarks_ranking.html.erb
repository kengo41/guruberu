<div class="grid place-items-center mt-5">
  <h1 class="text-2xl font-semibold mt-5">お気に入りランキング</h1>
  <div class="card w-4/5">
    <% if @shops.any? %>
      <% @shops.each do |shop| %>
        <div class="bg-base-200 p-4 m-5 rounded-xl shadow-lg relative">
          <div class="flex flex-col md:flex-row items-center" data-controller="modal">
            <%= image_tag shop.image || 'logo.png', class: 'w-full md:w-48 h-48 object-cover rounded-3xl shadow-md mb-4 md:mb-0' %>
            <div class="ml-0 md:ml-4 w-full md:w-1/2">
              <div class="flex flex-wrap items-center mb-2">
                <% shop.gourmets.each do |gourmet| %>
                  <%= link_to gourmet.name, gourmet_path(gourmet), class: "bg-orange-500 text-white py-1 px-2 text-xs font-semibold mr-2 mb-2 rounded-full hover:bg-orange-600" %>
                <% end %>
              </div>
              <%= link_to shop.name, shop_path(shop), class: 'text-xl font-semibold hover:text-yellow-500' %>
              <p class="text-sm md:text-base text-gray-600 mt-2 mb-2"><%= shop.address %></p>
              <p class="text-sm md:text-base text-gray-600 mb-2"><%= shop.phone_number %></p>
              <a href="https://www.google.com/maps/dir/?api=1&destination=<%= shop.name %>&destination_place_id=<%= shop.place_id %>" target="_blank" rel="noopener noreferrer" class="text-blue-500 hover:border-b hover:border-yellow-500 hover:text-yellow-500">
                <i class="fas fa-route mr-2"></i>
                経路案内
              </a>
            </div>
            <% if user_signed_in? %>
              <div class="flex items-center absolute top-1 right-1">
                <div class="relative">
                  <a href="/bookmark_lists?shop_id=<%= shop.id %>" data-turbo-frame="modal" class="bookmark-icon" data-shop-id="<%= shop.id %>">
                    <% if Bookmark.user_bookmarked_shop?(current_user, shop) %>
                      <i class="fas fa-bookmark w-9 h-9 text-yellow-500"></i>
                    <% else %>
                      <i class="fas fa-bookmark w-9 h-9 text-gray-300"></i>
                    <% end %>
                  </a>
                  <div id="bookmarkCount" class="absolute top-0 right-0 bg-yellow-500 text-white w-4 h-4 flex items-center justify-center rounded-full">
                    <%= shop.bookmark_count %>
                  </div>
                </div>
              </div>
            <% end %>
          </div>
        </div>
      <% end %>
    <% else %>
      <p class="text-2xl py-5 text-center">追加したお店はありません</p>
    <% end %>
  </div>
</div>
